<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
        // 时间复杂度: O(n),n为序列的长度,至多遍历两次.
    // 空间复杂度: O(1),我们需要常数的空间保存若干变量.

    // 由于题目要求删除数组中等于 val 的元素，因此输出数组的长度一定小于等于输入数组的长度，
    // 我们可以把输出的数组直接写在输入数组上。可以使用双指针：
    var removeElement = function (nums, val) {
      const n = nums.length;
      let left = 0;
      for (let right = 0; right < n; right++) {
        if (nums[right] !== val) {
          // 右指针right指向当前将要处理的元素，左指针left 指向下一个将要赋值的位置。
          // 如果右指针指向的元素不等于 val，它一定是输出数组的一个元素，
          nums[left] = nums[right];
          // 我们就将右指针指向的元素复制到左指针位置,然后将左右指针同时右移.
          left++;
        }
      }
      // 如果右指针指向的元素等于 val，它不能在输出数组里，此时左指针不动，右指针右移一位。
      return left;
    }
    let a = removeElement([1, 2, 3, 4], 2);
    console.log(a);
    // 整个过程保持不变的性质是：区间 [0,left) 中的元素都不等于val。当左右指针遍历完输入数组以后，
    // left 的值就是输出数组的长度。这样的算法在最坏情况下（输入数组中没有元素等于val），
    // 左右指针各遍历了数组一次。
  </script>
</body>

</html>